<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body background="../images/login.jpg">
<table border="1" width="800" height="500" align="center" background-color="#FF6699">
    <tr>
        <td bgcolor="#F3F3FA">
            <h2 align="center"><img src="./2.png" alt="" height="40" widt="50">&nbsp;&nbsp;&nbsp;&nbsp;用户注册</h2><br>
            <form action="" align="center">
                用户名称：<input type="text" id="yhmc" placeholder="请输入用户名！" style="width: 400px;height: 30px;"><br><br>
                登录密码：<input type="password" id="dlmm" placeholder="请输入登录密码！" style="width: 400px;height: 30px;"><br><br>
                重复密码：<input type="password" id="cfmm" placeholder="请输入您的确认密码！" style="width: 400px;height: 30px;"><br><br>
                手机号码：<input type="text" id="sjhm" placeholder="请输入您的手机号码！"  style="width: 400px;height: 30px;"><br><br>
                邮&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;箱：<input type="text" id="yx" placeholder="请输入您的邮箱！" style="width: 400px;height: 30px;"><br><br>
                <hr><br>
                <input type="button" value="注册" onclick="zc()" style="width: 100px;height: 25px;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <input type="reset" value="重置"  style="width: 100px;height: 25px;">
            </form>
        </td>
    </tr>
</table>
<script>

    function zc() {
        var xhrRes;
        var username = document.getElementById("yhmc").value;
        var password = document.getElementById("dlmm").value;
        var password1 = document.getElementById("cfmm").value;
        var phone = document.getElementById("sjhm").value;
        var email = document.getElementById("yx").value;


    if (password === password1){
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.open("get","http://localhost:8082/test/zc?username="+username+"&password="+password+"&phone="+phone+"&email="+email,true);
    xmlHttp.send();
    }else {
        window.alert("请确认两次密码一致！")
    }

    xmlHttp.onreadystatechange = function(e) {

        console.log('onreadystatechange。e====>' + JSON.stringify(e));
        if(xmlHttp.readyState === 4 && xmlHttp.status === 200){
            xhrRes = JSON.parse(xmlHttp.response);
            console.log('return message====>' + xhrRes);
        }
        if (xhrRes.code === 0){
            window.alert(xhrRes.msg)
        }else if (xhrRes.code === 1){
            window.alert(xhrRes.msg)
        }
    }
    }
</script>
</body>
</html>